# 基本概念

## 群组/频道 - Guild/Channel

考虑到众多聊天平台具有不统一的架构（例如 Discord 的服务器、频道，QQ 的群聊），Flandre 将其抽象成两层：Guild 和 Channel。Guild 泛指大的群组构成，其中有许多的分区和成员；Channel 指各种不同功能的分区，也是用户们具体聊天的地方。

对于拥有 Discord 使用经验的用户来说这种结构很好理解；但在 QQ 这样只用一层群聊划分用户的平台，我们定义 Guild 为群聊的基本抽象，是群成员的一个集合，Channel 为群成员具体聊天的环境。例如发送群聊消息使用 `SendChannelMessage`，而获取群成员使用 `GetGuildMember`。

出于方便目的，我们在文档中会将 Guild 译为 **群组**，Channel 译为 **频道**。在文档中，除非是特定平台相关的场景，我们都会用 **群组/频道** 代替 Guild/Channel。

为了能更好地理解，在这里整理了一个对照表，对应不同平台使用的不同术语：

| Flandre         | OneBot (QQ)        | Discord        | QQ 频道 |
|:---------------:|:------------------:|:--------------:|:------:|
| **群组/Guild**   | 群聊成员的一个抽象集合 | 服务器 (Server) | 频道   |
| **频道/Channel** | 群成员的具体聊天环境  | 频道            | 子频道  |

## 适配器 - Adapter

对于跨平台的实现方案，Flandre 参考诸多同类项目，使用了适配器 (Adapter) 模式。在适配器模式中，核心组件 (Flandre.Core) 不会发生变化，对于不同平台只需要编写对应的适配器，充当和 Core 通信的桥梁。

## 插件 - Plugin

插件是由开发者自行编写的功能模块，包含了 Bot 的各种行为逻辑，如指令、事件处理都是包含在一个个模块里的。

## 中间件 - Middleware

中间件是消息进出的管道。Flandre 的中间件设计参考了洋葱模型，便于对消息进行全面的控制。
